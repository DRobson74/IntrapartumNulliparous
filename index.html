<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Caesarean Section Prediction Model by DRobson74</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<script type="text/javascript" language="javascript">
/* Script Name: Caesarean Prediction Model - Nulliparous Intrapartum 
*/

//Single main function - checks which buttons and selects a drop down option and works out the predicted likelihood of Caesarean Section Delivery

function calculate() {




	// Declare variables.
	var DropDownBox;			// Used to determine which drop down option is selected
	var Age;				// Patient age	
	var radiobutton;			// Used to determine if checkbox is checked
	var button;				// Used to select a yes or no answer
	var selectedAge;			// Age of the Mother
	var IndigenousorTorresStraitIslander = 2;// Indigenous or Torres Strait Islander Mother
	var AssistedConception			// Assisted Conception
	var MaternalCountryofBirth	= 0; 	// Maternal Country of Birth
	var NorthAfricaMiddleEast;		// North Africa & Middle East
	var SouthernCentralAsia;		// Southern Central Asia
	var SubSaharanAfrica;			// Sub Saharan Africa
	var SouthEastAsia;			// South East Asia
	var NoneoftheAbove1;			// None of the Above
	var AntenatalCare		= 0;	// Antenatal Care Used
	var PublicMidwife;			// Public Midwife
	var GP;					// GP
	var NoneoftheAbove2;			// None of the Above
	var DeliveryataPrivateHospital	= 2; 	// Delivery at a Private Hospital
	var likelihood;				// Actual prediction of CSD
	var Asthma			= 2;	// Asthma
	var TypeIDiabetesMellitus	= 2;	// Type I Diabetes Mellitus
	var TypeIIDiabetesMellitus	= 2;	// Type II Diabetes Mellitus
	var NPA				= 2;	// Non-Pharmacological Analgesia
	var PA				= 2;	// Pharmacological Analgesia
	var CTG				= 2;	// CTG
	var FSE				= 2;	// FSE
	var GD				= 2;	// GD
	var PreEc			= 2;	// PreEc
	var GestHTN			= 2;	// GestHTN
	var AROM 			= 2;	// Artificial Rupture of Membranes
	var Prost			= 2;	// Prostaglandins
	var Presentation		= 0;	// Presentation
	var Breech;				// Breech
	var Brow;				// Brow
	var Shoulder;				// Shoulder
	var Face;				// Face
	var NoneoftheAbove3;			// None of the Above
	var varx;				// Temp variable for calculation.
	var vary;				// Temp variable for calculation.
	var varz; 				// Temp variable for calculation.



// Check patient age dropdown box.
DropDownBox = document.getElementById("Age");
Age = DropDownBox.options[DropDownBox.selectedIndex].text;


// Checks to see which radiobutton is selected in Indigenous&/orTorresStraitIslander.
for (i = 1; i <= 2; i++) {				
radioButton = document.getElementById("indig" + i);
	if (radioButton.checked == true) {
		// Assigns value according to which radio button was selected.
		IndigenousorTorresStraitIslander = radioButton.value; 
	}
}
if (IndigenousorTorresStraitIslander == 2) {
		alert("No Indigenous status selected!");
		return;

}


// Checks to see which radiobutton is selected in AssistedConception.
for (i = 1; i <= 2; i++) {				
radioButton = document.getElementById("AssistedConception" + i);
	if (radioButton.checked == true) {
		// Assigns value according to which radio button was selected.
		AssistedConception = radioButton.value; 
	}
}
if (AssistedConception == 2) {
		alert("No assisted conception status selected!");
		return;
}



// Checks to see which radiobutton is selected in MaternalCountryofBirth.
for (i = 1; i <= 5; i++) {
radioButton = document.getElementById("MaternalCountryofBirth" + i);
	if (radioButton.checked == true) {
		//Assigns value according to which radio button was selected.
		MaternalCountryofBirth = radioButton.value;
		if (MaternalCountryofBirth ==1) {
		NorthAfricaMiddleEast =1;
		SouthernCentralAsia =0;
		SubSaharanAfrica =0;
		SouthEastAsia =0;
		}
		if (MaternalCountryofBirth ==2) {
		NorthAfricaMiddleEast =0; 
		SouthernCentralAsia =1;
		SubSaharanAfrica =0;
		SouthEastAsia =0;
		}
		if (MaternalCountryofBirth ==3) {
		NorthAfricaMiddleEast =0;
		SouthernCentralAsia =0;
		SubSaharanAfrica =1;
		SouthEastAsia =0;
			}
		if (MaternalCountryofBirth ==4) {
		NorthAfricaMiddleEast =0;
		SouthernCentralAsia =0;
		SubSaharanAfrica =0;
		SouthEastAsia =1;
			}
		if (MaternalCountryofBirth ==5) {
		NorthAfricaMiddleEast =0;
		SouthernCentralAsia =0;
		SubSaharanAfrica =0;
		SouthEastAsia =0;
		NoneoftheAbove1 =1;
		}
		
	}

}
if (MaternalCountryofBirth == 0) {
		alert("No Maternal Country of Birth is selected!");
		return;
}



// Checks to see which radiobutton is selected in DeliveryataPrivateHospital.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("DeliveryataPrivateHospital" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			DeliveryataPrivateHospital = radioButton.value; 
		}
	}

if (DeliveryataPrivateHospital == 2) {
		alert("No Delivery at a Private Hospital status selected!");
		return;
}


// Checks to see which radiobutton is selected in AntenatalCare.
for (i = 1; i <= 3; i++) {
radioButton = document.getElementById("AntenatalCare" + i);
	if (radioButton.checked == true) {
		//Assigns value according to which radio button was selected.
		AntenatalCare = radioButton.value; 
		if (AntenatalCare ==1) {
			PublicMidwife =1;
			GP =0;
		}
		if (AntenatalCare ==2) {
			PublicMidwife =0;
			GP =1;
		}
		if (AntenatalCare ==3) {
			PublicMidwife =0;
			GP =0;
			NoneoftheAbove2 =1;
		}
	}
}
if (AntenatalCare == 0) {
		alert("No Antenatal Care selected!");
		return;
}



// Checks to see which radiobutton is selected in Asthma.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("Asthma" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			Asthma = radioButton.value; 
		}
	}
if (Asthma == 2) {
	alert("No Asthma status selected!");
	return;
}


// Checks to see which radiobutton is selected in TypeIDiabetesMellitus.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("TypeIDiabetesMellitus" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			TypeIDiabetesMellitus = radioButton.value; 
		}
	}
if (TypeIDiabetesMellitus == 2) {
	alert ("No Type I Diabetes Mellitus status selected!");
	return;
}


// Checks to see which radiobutton is selected in TypeIIDiabetesMellitus.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("TypeIIDiabetesMellitus" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			TypeIIDiabetesMellitus = radioButton.value; 
		}
	}
if (TypeIIDiabetesMellitus == 2) {
	alert ("No Type II Diabetes Mellitus status selected!");
	return;
}


// Checks to see which radiobutton is selected in AROM.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("AROM" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			AROM = radioButton.value; 
		}
	}
if (AROM == 2) {
	alert ("No Artificial Rupture of Membranes status selected!");
	return;
}


// Checks to see which radiobutton is selected in Prost.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("Prost" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			Prost = radioButton.value; 
		}
	}
if (Prost == 2) {
	alert ("No Prostaglandins status selected!");
	return;
}


// Checks to see which radiobutton is selected in NPA.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("NPA" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			NPA = radioButton.value; 
		}
	}
if (NPA == 2) {
	alert ("No Non-Pharmacological Analgesia status selected!");
	return;
}


// Checks to see which radiobutton is selected in PA.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("PA" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			PA = radioButton.value; 
		}
	}
if (PA == 2) {
	alert ("No Pharmacological Analgesia status selected!");
	return;
}


// Checks to see which radiobutton is selected in CTG.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("CTG" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			CTG = radioButton.value; 
		}
	}
if (CTG == 2) {
	alert ("No CTG status selected!");
	return;
}


// Checks to see which radiobutton is selected in FSE.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("FSE" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			FSE = radioButton.value; 
		}
	}
if (FSE == 2) {
	alert ("No Foetal Scalp Electrode status selected!");
	return;
}


// Checks to see which radiobutton is selected in GestHTN.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("GestHTN" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			GestHTN = radioButton.value; 
		}
	}
if (GestHTN == 2) {
	alert ("No Gestational Hypertension status selected!");
	return;
}



// Checks to see which radiobutton is selected in PreEc.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("PreEc" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			PreEc = radioButton.value; 
		}
	}
if (PreEc == 2) {
	alert ("No Pre-eclampsia status selected!");
	return;
}


// Checks to see which radiobutton is selected in GD.
	for (i = 1; i <= 2; i++) {				
	radioButton = document.getElementById("GD" + i);
		if (radioButton.checked == true) {
			// Assigns value according to which radio button was selected.
			GD = radioButton.value; 
		}
	}
if (GD == 2) {
	alert ("No Gestational Diabetes status selected!");
	return;
}



// Checks to see which radiobutton is selected in Presentation.
for (i = 1; i <= 5; i++) {
radioButton = document.getElementById("Presentation" + i);
	if (radioButton.checked == true) {
		//Assigns value according to which radio button was selected.
		Presentation = radioButton.value; 
		if (Presentation ==1) {
			Breech = 1;
			Brow =0;
			Face =0;
			Shoulder = 0;
		}
		if (Presentation ==2) {
			Breech = 0;
			Brow =1;
			Face =0;
			Shoulder = 0;
		}
		if (Presentation ==3) {
			Breech = 0;
			Brow =0;
			Face =1;
			Shoulder = 0;
		}
		if (Presentation ==4) {
			Breech = 0;
			Brow =0;
			Face =0;
			Shoulder = 1;
		}
		if (Presentation ==5) {
			Breech = 0;
			Brow =0;
			Face =0;
			Shoulder =0;
			NoneoftheAbove3 = 1
		}
	}
}
if (Presentation == 0) {
		alert("No Presentation selected!");
		return;
}



//Calculate LIKELIHOOD.

varx = -1.101 + (0.0643*Age) + (0.211*IndigenousorTorresStraitIslander) + (0.174*AssistedConception) + (-0.180*NorthAfricaMiddleEast) + (-0.168*SouthEastAsia) + (0.334*SouthernCentralAsia) + (0.212*SubSaharanAfrica) + (0.457*DeliveryataPrivateHospital) +
(-0.194*PublicMidwife) + (-0.287*GP) + (0.191*Asthma) + (1.03*TypeIDiabetesMellitus) + (0.742*TypeIIDiabetesMellitus) +  (AROM*-0.278) + (0.259*Prost) + + (-0.266*CTG) + (-0.661*FSE) + (0.122*GD) + (0.396*GestHTN) + (PreEc*0.739) + (-1.133*NPA) + (-0.313*PA)  + (2.88*Breech) + (2.59*Brow) + (1.99*Face) + (2.21*Shoulder);

vary = 1 + Math.exp(varx)

varz = Math.exp(varx)/vary 


likelihood = 100*varz;

likelihood = likelihood.toFixed(2);

	
alert("Your likelihood of caesarean section delivery is " + likelihood + "%.");

	
	
} // End of predict()
	
</script>


  </head>
  <body>

      <header>
        <h1>Caesarean Section Prediction Model</h1>
        <p>Intrapartum - Nulliparous Women</p>
      </header>
      
 <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/DRobson74/antepartummultiparous.github.io" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/DRobson74/antepartummultiparous.github.io/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/DRobson74/antepartummultiparous.github.io/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <h3>
<p> Please fill in the follow details regarding your patient, then click calculate</p>

  <form>
<p> Age:
<select id="Age">
    <option>16</option>
    <option>17</option>
    <option>18</option>
    <option>19</option>
    <option>20</option>
    <option>21</option>
    <option>22</option>
    <option>23</option>
    <option>24</option>
    <option>25</option>
    <option>26</option>
    <option>27</option>
    <option>28</option>
    <option>29</option>
    <option>30</option>
    <option>31</option>
    <option>32</option>
    <option>33</option>
    <option>34</option>
    <option>35</option>
    <option>36</option>
    <option>37</option>
    <option>38</option>
    <option>39</option>
    <option>40</option>
    <option>41</option>
    <option>42</option>
    <option>43</option>
    <option>44</option>
    <option>45</option>
</select>
</p>

<p> Indigenous &/or Torres Strait Islander: <br />
<input type="radio" id="indig1" name = "indig" value="1">Yes<br>
<input type = "radio" id="indig2" name = "indig" value="0">No<br>
</p>


<p> Assisted Conception:<br />
<input type="radio" id="AssistedConception1" name = "AssistedConception" value="1">Yes<br> 
<input type ="radio" id="AssistedConception2" name = "AssistedConception" value="0">No<br>
</p>

<p> Maternal Country of Birth:<br />
<input type ="radio" id="MaternalCountryofBirth1" name = "MaternalCountryofBirth" value="1">North Africa & Middle East<br>
<input type ="radio" id="MaternalCountryofBirth2" name = "MaternalCountryofBirth" value="2">South & Central Asia<br>
<input type ="radio" id="MaternalCountryofBirth3" name = "MaternalCountryofBirth" value="3">
Sub-saharan Africa<br>
<input type ="radio" id="MaternalCountryofBirth4" name = "MaternalCountryofBirth" value="4">South East Asia<br>
<input type ="radio" id="MaternalCountryofBirth5" name = "MaternalCountryofBirth" value="5">None of the Above<br>
</p>


<p> Delivery at a Private Hospital:<br />
<input type="radio" id="DeliveryataPrivateHospital1" name = "DeliveryataPrivateHospital" value="1">Yes<br> 
<input type="radio" id="DeliveryataPrivateHospital2" name = "DeliveryataPrivateHospital" value="0">No<br>
</p>


<p> Antenatal Care:<br />
<input type ="radio" id="AntenatalCare1" name = "AntenatalCare" value="1">Public Midwife<br>
<input type ="radio" id="AntenatalCare2" name = "AntenatalCare" value="2">GP<br>
<input type ="radio" id="AntenatalCare3" name ="AntenatalCare" value="3">None of the Above<br>
</p>

<p> Asthma:<br />
<input type="radio" id="Asthma1" name = "Asthma" value="1">Yes<br>
<input type="radio" id="Asthma2" name = "Asthma" value="0">No<br>
</p>


<p> Type I Diabetes Mellitus:<br />
<input type="radio" id="TypeIDiabetesMellitus1" name = "TypeIDiabetesMellitus" value="1">Yes<br>
<input type="radio" id="TypeIDiabetesMellitus2" name = "TypeIDiabetesMellitus" value="0">No<br>
</p>


<p> Type II Diabetes Mellitus:<br />
<input type="radio" id="TypeIIDiabetesMellitus1" name = "TypeIIDiabetesMellitus" value="1">Yes<br>
<input type="radio" id="TypeIIDiabetesMellitus2" name = "TypeIIDiabetesMellitus" value="0">No<br>
</p>


<p> Artificial Rupture of Membranes:<br />
<input type="radio" id="AROM1" name = "AROM" value="1">Yes<br>
<input type="radio" id="AROM2" name = "AROM" value="0">No<br>
</p>

<p> Prostaglandins:<br />
<input type="radio" id="Prost1" name = "Prost" value="1">Yes<br>
<input type="radio" id="Prost2" name = "Prost" value="0">No<br>
</p>

<p> Non-Pharmacological Analgesia:<br />
<input type="radio" id="NPA1" name = "NPA" value="1">Yes<br>
<input type="radio" id="NPA2" name = "NPA" value="0">No<br>
</p>

<p> Pharmacological Analgesia:<br />
<input type="radio" id="PA1" name = "PA" value="1">Yes<br>
<input type="radio" id="PA2" name = "PA" value="0">No<br>
</p>

<p> CTG:<br />
<input type="radio" id="CTG1" name = "CTG" value="1">Yes<br>
<input type="radio" id="CTG2" name = "CTG" value="0">No<br>
</p>

<p> Foetal Scalp Electrode:<br />
<input type="radio" id="FSE1" name = "FSE" value="1">Yes<br>
<input type="radio" id="FSE2" name = "FSE" value="0">No<br>
</p>

<p> Gestational Hypertension:<br />
<input type="radio" id="GestHTN1" name = "GestHTN" value="1">Yes<br>
<input type="radio" id="GestHTN2" name = "GestHTN" value="0">No<br>
</p>


<p> Pre-eclampsia:<br />
<input type="radio" id="PreEc1" name = "PreEc" value="1">Yes<br>
<input type="radio" id="PreEc2" name = "PreEc" value="0">No<br>
</p>


<p> Gestational Diabetes:<br />
<input type="radio" id="GD1" name = "GD" value="1">Yes<br>
<input type="radio" id="GD2" name = "GD" value="0">No<br>
</p>


<p> Presentation:<br />
<input type ="radio" id="Presentation1" name = "Presentation" value="1">Breech<br>
<input type ="radio" id="Presentation2" name = "Presentation" value="2">Brow<br>
<input type ="radio" id="Presentation3" name = "Presentation" value="3">Face<br>
<input type ="radio" id="Presentation4" name = "Presentation" value="4">Shoulder<br>
<input type ="radio" id="Presentation5" name = "Presentation" value="5">None of the Above<br>
</p>



<input type="button" value="Calculate" onclick="calculate();"/>

</form>

<td tex-align:left;>
<br> Dr Danielle Robson </td>
<br> James Cook University </td>
<br> Townsville </td>
<br> Australia  </td>
<br> Contact: danielle.robson@my.jcu.edu.au </br></td>
</br></td>

<b> Disclaimer: The result from the Caesarean Section Prediction model has been calculated using data from Queensland 2010-2012 and analysed in SPSS Version 21.0. The calculator has been carefully tested and has been found to be reliable, but is yet to be validated against a different cohort. We do not take legal or financial responsibility for miscalculations. The responsibility lies wholly on the user of this calculator. </b> </tr>


  </body>
</html>
